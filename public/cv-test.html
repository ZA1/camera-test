<htmal>
    <head>
        <title>CV Test</title>
        <script src="https://docs.opencv.org/4.0.0/opencv.js"></script>
    </head>
    <body>
        <img src="IMG_0015.jpg" id="img" />
        <canvas id="canvasOutput"></canvas>
        <script>
            setTimeout(() => {
                const imgElement = document.getElementById("img");
            let src = cv.imread(imgElement);
            let equalDst = new cv.Mat();
let claheDst = new cv.Mat();
cv.cvtColor(src, src, cv.COLOR_RGBA2GRAY, 0);
cv.equalizeHist(src, equalDst);
let tileGridSize = new cv.Size(8, 8);
// You can try more different parameters
let clahe = new cv.CLAHE(40, tileGridSize);
clahe.apply(src, claheDst);
cv.imshow('canvasOutput', equalDst);
//cv.imshow('canvasOutput', claheDst);
src.delete(); equalDst.delete(); claheDst.delete(); clahe.delete();
            }, 225);
            

        </script>
    </body>
</htmal>